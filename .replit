
modules = ["python-3.10:v18-20230807-322e88b"]

# 运行命令优化，添加 --reload 支持热重载
run = "uvicorn app.main:app --host 0.0.0.0 --port 3000 --reload"

# 部署配置优化
[deployment]
run = ["sh", "-c", "uvicorn app.main:app --host 0.0.0.0 --port 3000"]
deploymentTarget = "cloudrun"

# 优化端口配置
[[ports]]
localPort = 3000
externalPort = 80

[nix]
channel = "stable-23_05"

[env]
PYTHONPATH = "${PYTHONPATH}:${workspaceDir}"
